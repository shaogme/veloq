# é¡¹ç›®å½“å‰è¿›å±• (Project Status)

æœ¬æ–‡æ¡£æ±‡æ€»äº† Veloq é¡¹ç›®å„æ¨¡å—çš„å¼€å‘çŠ¶æ€ã€å·²å®Œæˆç‰¹æ€§ä»¥åŠå¾…åŠäº‹é¡¹åˆ—è¡¨ã€‚

**æœ€åæ›´æ–°æ—¶é—´**: 2026-01-07
**æ€»ä½“çŠ¶æ€**: ğŸš§ **Alpha é˜¶æ®µ** (æ ¸å¿ƒæ¶æ„å·²å®šå‹ï¼ŒAPI å°šæœªå†»ç»“)

## ä»ªè¡¨ç›˜ (Dashboard)

```mermaid
pie title æ ¸å¿ƒæ¨¡å—å®Œæˆåº¦ä¼°ç®—
    "Runtime (è°ƒåº¦/Mesh)" : 85
    "IO Drivers (Uring/IOCP)" : 75
    "Memory (Buffer Pools)" : 80
    "Network (TCP/UDP)" : 60
    "FileSystem" : 50
    "Ecosystem/Docs" : 40
```

---

## 1. æ ¸å¿ƒè¿è¡Œæ—¶ (Runtime Core)
> **çŠ¶æ€**: âœ… **å¤§éƒ¨åˆ†å®Œæˆ (Mostly Completed)**

å»ºç«‹äº†åŸºäº **Thread-per-Core** çš„æ¨¡å‹ï¼Œå®ç°äº†é«˜æ•ˆçš„æ··åˆè°ƒåº¦ç®—æ³•ã€‚

- [x] **Local Executor**: ä¸»å¾ªç¯ã€Budget æœºåˆ¶ã€Park/Unpark çŠ¶æ€æœºã€‚
- [x] **Task System**: æ‰‹åŠ¨ VTable å®ç°çš„è½»é‡çº§ Taskï¼Œæ”¯æŒ `Waker` å”¤é†’ã€‚
- [x] **Mesh Network**: åŸºäº RingBuffer çš„ Worker é—´æ— é”é€šä¿¡ (SPSC)ã€‚
- [x] **è°ƒåº¦ç®—æ³•**:
    - [x] **P2C (Power of Two Choices)**: å‘é€ç«¯è´Ÿè½½å‡è¡¡ã€‚
    - [x] **Work Stealing**: æ¥æ”¶ç«¯è´Ÿè½½å‡è¡¡ã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **Blocking Pool**: ç¼ºä¹å¤„ç† CPU å¯†é›†å‹æˆ–åŒæ­¥ç³»ç»Ÿè°ƒç”¨çš„ä¸“ç”¨çº¿ç¨‹æ± ã€‚
    - [ ] **åä½œå¼æŠ¢å **: é˜²æ­¢æ­»å¾ªç¯ä»»åŠ¡å¡æ­» Workerã€‚
    - [ ] **Task Debugging**: å¢åŠ ä»»åŠ¡è¿½è¸ªå’Œè°ƒè¯•è§†å›¾ã€‚

## 2. I/O é©±åŠ¨å±‚ (IO Drivers)
> **çŠ¶æ€**: âš ï¸ **å®Œå–„ä¸­ (Stabilizing)**

ç»Ÿä¸€äº† Linux (io_uring) å’Œ Windows (IOCP) çš„ Proactor æŠ½è±¡ã€‚

### 2.1 é€šç”¨æŠ½è±¡
- [x] **Driver Trait**: å®šä¹‰äº† `submit`, `poll_op` ç­‰ç»Ÿä¸€æ¥å£ã€‚
- [x] **StableSlab**: å®ç°äº†åœ°å€ç¨³å®šçš„ Slab åˆ†é…å™¨ï¼Œç”¨äºå­˜å‚¨ In-Flight Operationsã€‚
- [x] **OpRegistry**: ç±»å‹æ“¦é™¤çš„æ“ä½œæ³¨å†Œè¡¨ã€‚

### 2.2 Linux (io_uring)
- [x] **åŸºç¡€æ”¯æŒ**: æäº¤é˜Ÿåˆ— (SQ) å’Œå®Œæˆé˜Ÿåˆ— (CQ) çš„ç®¡ç†ã€‚
- [x] **ç‰¹æ€§å¼€å…³**: æ”¯æŒ `Single Issuer` å’Œ `Defer Taskrun` ç­‰æ–°å†…æ ¸ç‰¹æ€§ã€‚
- [x] **Backlog**: ç®€å•çš„é“¾è¡¨ Backlog å¤„ç† SQ æ»¡çš„æƒ…å†µã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **Zero Copy**: é›†æˆ `IORING_OP_SEND_ZC`ã€‚
    - [ ] **Multishot**: åˆ©ç”¨ `IORING_RECV_MULTISHOT` ä¼˜åŒ–ååã€‚
    - [ ] **Fixed Files**: æ”¯æŒæ–‡ä»¶æè¿°ç¬¦æ³¨å†Œä»¥å‡å°‘å†…æ ¸å¼€é”€ã€‚

### 2.3 Windows (IOCP)
- [x] **åŸºç¡€æ”¯æŒ**: åŸºäº `GetQueuedCompletionStatus` çš„äº‹ä»¶å¾ªç¯ã€‚
- [x] **æ‰©å±•å‡½æ•°**: åŠ¨æ€åŠ è½½ `ConnectEx`, `AcceptEx`ã€‚
- [x] **é˜»å¡å›é€€**: å¯¹äº `Open`/`Close` ç­‰åŒæ­¥ API å®ç°äº†çº¿ç¨‹æ± åˆ†æµã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **Registered I/O (RIO)**: æ¢ç´¢ RIO ä»¥é™ä½ç½‘ç»œ I/O å»¶è¿Ÿã€‚
    - [ ] **SyncFileRange**: å¯»æ‰¾æ¯” `FlushFileBuffers` æ›´ç»†ç²’åº¦çš„åˆ·ç›˜æ–¹æ¡ˆã€‚

## 3. å†…å­˜ç®¡ç† (Memory)
> **çŠ¶æ€**: âœ… **å¯ç”¨ (Functional)**

- [x] **FixedBuf**: å®ç°äº†æ‹¥æœ‰æƒçš„ç¼“å†²åŒºæŠ½è±¡ï¼Œé€‚é… Proactor æ¨¡å‹ã€‚
- [x] **åˆ†é…å™¨**:
    - [x] **BuddyPool**: é€šç”¨çš„ä¼™ä¼´ç³»ç»Ÿåˆ†é…å™¨ã€‚
    - [x] **HybridPool**: é’ˆå¯¹ç½‘ç»œåŒ…ä¼˜åŒ–çš„ Slab + Global æ··åˆåˆ†é…å™¨ã€‚
- [x] **å¯¹é½**: å¼ºåˆ¶ 4KB å¯¹é½ï¼Œæ»¡è¶³ Direct I/O éœ€æ±‚ã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **åŠ¨æ€æ‰©å®¹**: æ”¯æŒ Arena çš„åŠ¨æ€å¢é•¿ã€‚
    - [ ] **è·¨çº¿ç¨‹å½’è¿˜**: æ”¯æŒ `FixedBuf` åœ¨ä¸åŒçº¿ç¨‹é—´æµè½¬å¹¶å®‰å…¨é‡Šæ”¾ã€‚
    - [ ] **Huge Page**: æ”¯æŒå¤§é¡µåˆ†é…ã€‚

## 4. ä¸Šå±‚ API (Net & FS)
> **çŠ¶æ€**: ğŸ› ï¸ **åŸºç¡€åŠŸèƒ½ (Basic)**

### 4.1 ç½‘ç»œ (Net)
- [x] **TCP**: `TcpListener`, `TcpStream` (Connect, Read, Write)ã€‚
- [x] **UDP**: `UdpSocket` (SendTo, RecvFrom)ã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **Socket Options**: æš´éœ² `TTL`, `NoDelay` ç­‰é…ç½®ã€‚
    - [ ] **Split API**: æä¾› `ReadHalf`/`WriteHalf` æ‹†åˆ†ã€‚
    - [ ] **Zero-Copy**: æš´éœ²é›¶æ‹·è´è¯»å†™æ¥å£ã€‚

### 4.2 æ–‡ä»¶ç³»ç»Ÿ (FS)
- [x] **File**: `open`, `read_at`, `write_at`, `close`ã€‚
- [x] **Direct I/O**: æ”¯æŒ `O_DIRECT` æ¨¡å¼çš„æ‰“å¼€é€‰é¡¹ã€‚
- [ ] **å¾…åŠ (TODO)**:
    - [ ] **Metadata**: å®ç° `metadata`, `set_len` ç­‰æ“ä½œã€‚
    - [ ] **Directory**: å®ç°å¼‚æ­¥ç›®å½•éå† (`read_dir`)ã€‚
    - [ ] **Path Optimization**: ä¼˜åŒ–è·¯å¾„å¯¹è±¡çš„å†…å­˜åˆ†é…ã€‚

## 5. æ€»ç»“ä¸è·¯çº¿å›¾ (Summary & Roadmap)

å½“å‰ç‰ˆæœ¬ Veloq å·²ç»å…·å¤‡äº†ä¸€ä¸ªé«˜æ€§èƒ½å¼‚æ­¥è¿è¡Œæ—¶çš„é›å½¢ï¼Œæ ¸å¿ƒçš„ **Context-Driver-Task** é“¾è·¯å·²ç»æ‰“é€šï¼Œä¸”åœ¨å¾®åŸºå‡†æµ‹è¯•ä¸­å±•ç°äº† **Thread-per-Core** çš„æ½œåŠ›ã€‚

**è¿‘æœŸé‡ç‚¹ (Next Steps)**:
1.  **ç¨³å®šæ€§**: å®Œå–„æµ‹è¯•ç”¨ä¾‹ï¼Œç‰¹åˆ«æ˜¯ Windows ä¸‹çš„è¾¹ç•Œæƒ…å†µå’Œ Linux æ—§å†…æ ¸å…¼å®¹æ€§ã€‚
2.  **åŠŸèƒ½è¡¥å…¨**: å®ç° `Blocking Pool` å’Œ `Directory` æ“ä½œï¼Œä½¿å…¶èƒ½æ‰¿è½½çœŸå®çš„ä¸šåŠ¡é€»è¾‘ã€‚
3.  **ç”Ÿæ€**: æä¾›ä¸ `AsyncRead`/`AsyncWrite` çš„å…¼å®¹å±‚ï¼Œä»¥ä¾¿å¤ç”¨ç°æœ‰ Rust ç”Ÿæ€åº“ã€‚
